{"version":3,"sources":["components/Maze/index.tsx","pages/Game/index.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Maze","useState","mazeWidth","mazeCells","setMazeCellsState","mazeCellsRef","useRef","row","col","playerLocation","setPlayerLocationState","playerLocationRef","setPlayerLocation","data","current","playerIcon","useEffect","generateCells","window","addEventListener","handleKeyPress","nums","i","cellObj","isStart","isEnd","isBottomRow","isRightCol","isLeftCol","isTopRow","push","createRandomSimplePath","cells","totalMoves","currentCellIndex","length","currentCell","randomIndex","Math","floor","random","move","splice","canMoveRight","canMoveLeft","canMoveDown","canMoveUp","e","key","toLowerCase","moveUp","moveLeft","moveDown","moveRight","getCellIndexByLocation","location","cellIndex","cell","className","ref","style","top","left","width","height","map","Game","App","basename","exact","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"gTA2Be,SAASA,EAAT,GAAyC,qBAClBC,mBAAiB,IADA,mBAC5CC,EAD4C,aAEZD,mBAAgB,KAFJ,mBAE5CE,EAF4C,KAEjCC,EAFiC,KAG7CC,EAAeC,iBAAc,IAHgB,EASFL,mBAAuC,CAAEM,IAAK,EAAGC,IAAK,IATpD,mBAS5CC,EAT4C,KAS5BC,EAT4B,KAU7CC,EAAoBL,iBAAqC,CAAEC,IAAK,EAAGC,IAAK,IACxEI,EAAoB,SAACC,GACvBF,EAAkBG,QAAUD,EAC5BH,EAAuBG,IAGrBE,EAAaT,iBAA8B,MAEjDU,qBAAU,WACNC,IAGAC,OAAOC,iBAAiB,UAAWC,KACpC,IAEH,IAAMH,EAA4B,WAK9B,IAHA,IAvBkBJ,EAuBdQ,EAAiC,GAG5BC,EAAI,EAAGA,GAAC,SAAIpB,EAAa,GAAGoB,IAAK,CACtC,IAAMC,EAAkC,CACpCC,QAAe,IAANF,EACTG,MAAOH,IAAC,SAAKpB,EAAa,GAC1BwB,YAAaJ,EAAI,SAAApB,EAAa,GAAIA,EAClCyB,WAAYL,EAAIpB,IAAc,EAC9B0B,UAAiB,IAANN,IAAYA,EAAI,GAAKpB,IAAc,EAC9C2B,SAAUP,GAAKpB,GAInBmB,EAAKS,KAAKP,GAIdQ,EAAuBV,GAzCLR,EA2CLQ,EA1CbhB,EAAaS,QAAUD,EACvBT,EAAkBS,IA4DhBkB,EAAyB,SAACC,GAG5B,IAFA,IAAMC,EAAa,GAEVX,EAAI,EAAGA,EAAIpB,EAAY,EAAGoB,IAC/BW,EAAWH,KAAK,SAChBG,EAAWH,KAAK,QAKpB,IAFA,IAAII,EAAmB,EAEhBD,EAAWE,OAAS,GAAG,CAC1B,IAAMC,EAAcJ,EAAME,GAEpBG,EAAcC,KAAKC,MAAMD,KAAKE,SAAWP,EAAWE,QAEpDM,EAAOR,EAAWI,GAGxB,OAFAJ,EAAWS,OAAOL,EAAa,GAEvBI,GACJ,IAAK,QACDL,EAAYO,cAAe,EAE3BX,EADAE,GAAoB,GACIU,aAAc,EACtC,MACJ,IAAK,OACDR,EAAYS,aAAc,EAE1Bb,EADAE,GAAoBhC,GACI4C,WAAY,KAM9C1B,EAAiB,SAAC2B,GAEpB,GAAKhC,EAEL,OAAQgC,EAAEC,IAAIC,eACV,IAAK,IACL,IAAK,UACDC,IACA,MACJ,IAAK,IACL,IAAK,YACDC,IACA,MACJ,IAAK,IACL,IAAK,YACDC,IACA,MACJ,IAAK,IACL,IAAK,aACDC,MAKNC,EAAyB,SAACC,GAC5B,IAAMC,GAAaD,EAAShD,IAAM,GAAKL,EAAYqD,EAAS/C,IAAM,EAClE,OAAOH,EAAaS,QAAQ0C,IAG1BN,EAAS,WACX,IAAMO,EAAOH,EAAuB3C,EAAkBG,SAEhB,IAAlCH,EAAkBG,QAAQP,KAAckD,EAAKX,WAEjDlC,EAAkB,2BAAKD,EAAkBG,SAAxB,IAAiCP,IAAKI,EAAkBG,QAAQP,IAAM,MAGrF8C,EAAY,WACd,IAAMI,EAAOH,EAAuB3C,EAAkBG,SAElDH,EAAkBG,QAAQN,KAAON,IAAcuD,EAAKd,cAExD/B,EAAkB,2BAAKD,EAAkBG,SAAxB,IAAiCN,IAAKG,EAAkBG,QAAQN,IAAM,MAGrF2C,EAAW,WACb,IAAMM,EAAOH,EAAuB3C,EAAkBG,SAEhB,IAAlCH,EAAkBG,QAAQN,KAAciD,EAAKb,aAEjDhC,EAAkB,2BAAKD,EAAkBG,SAAxB,IAAiCN,IAAKG,EAAkBG,QAAQN,IAAM,MAGrF4C,EAAW,WACb,IAAMK,EAAOH,EAAuB3C,EAAkBG,SAElDH,EAAkBG,QAAQP,KAAOL,IAAcuD,EAAKZ,aAExDjC,EAAkB,2BAAKD,EAAkBG,SAAxB,IAAiCP,IAAKI,EAAkBG,QAAQP,IAAM,MAG3F,OACI,qBAAKmD,UAAU,4BAAf,SACI,qBAAKA,UAAU,qBAAf,SACI,sBAAKA,UAAU,qBAAf,UACI,qBACIC,IAAK5C,EACL2C,UAAU,iBACVE,MAAO,CAAEC,IAAI,GAAD,QAAMpD,EAAeF,IAAM,IAAM,IAAML,GAAvC,KAAsD4D,KAAK,GAAD,QAAMrD,EAAeD,IAAM,IAAM,IAAMN,GAAvC,KAAsD6D,MAAM,GAAD,OAAK,IAAM7D,EAAX,KAAyB8D,OAAO,GAAD,OAAK,IAAM9D,EAAX,MAHpK,SAII,qBAAKwD,UAAU,aAElBvD,EAAU8D,KAAI,SAACR,EAAMnC,GAClB,OACI,qBACIoC,UAAS,mBAAcD,EAAKjC,QAAU,SAAW,IAAxC,OAA6CiC,EAAKhC,MAAQ,OAAS,IAAnE,OAAwEgC,EAAK9B,WAAa,aAAe,IAAzG,OAA8G8B,EAAK/B,YAAc,cAAgB,IAAjJ,OAAsJ+B,EAAKX,UAAY,eAAiB,IAAxL,OAA6LW,EAAKd,aAAe,kBAAoB,IAArO,OAA0Oc,EAAKZ,YAAc,iBAAmB,IAAhR,OAAqRY,EAAKb,YAAc,iBAAmB,IACpUgB,MAAO,CAAEG,MAAM,GAAD,OAAK,IAAM7D,EAAX,KAAyB8D,OAAO,GAAD,OAAK,IAAM9D,EAAX,OACxCoB,a,MCtMtB,SAAS4C,IACpB,OACI,mCACI,cAAC,EAAD,MCYGC,MAdf,WACE,OACE,qBAAKT,UAAU,MAAf,SACE,cAAC,IAAD,CAAQU,SAAS,aAAjB,SACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAlB,SACE,cAAC,EAAD,aCGGC,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCHdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1Bb,M","file":"static/js/main.2730315d.chunk.js","sourcesContent":["import React, { ReactElement, useState, useEffect, useRef } from 'react';\r\nimport { transpileModule } from 'typescript';\r\nimport './index.css';\r\n\r\ninterface Props {\r\n\r\n}\r\n\r\ninterface cellPositionProperties {\r\n    isStart: boolean;\r\n    isEnd: boolean;\r\n    isTopRow: boolean;\r\n    isBottomRow: boolean;\r\n    isLeftCol: boolean;\r\n    isRightCol: boolean;\r\n}\r\n\r\ninterface cellMoveProperties {\r\n    canMoveUp: boolean;\r\n    canMoveRight: boolean;\r\n    canMoveDown: boolean;\r\n    canMoveLeft: boolean;\r\n}\r\n\r\ninterface cellProperties extends cellPositionProperties {\r\n}\r\n\r\nexport default function Maze({ }: Props): ReactElement {\r\n    const [mazeWidth, setMazeWidth] = useState<number>(10); // height is same as width\r\n    const [mazeCells, setMazeCellsState] = useState<any[]>([]);\r\n    const mazeCellsRef = useRef<any[]>([])\r\n    const setMazeCells = (data: any) => {\r\n        mazeCellsRef.current = data;\r\n        setMazeCellsState(data);\r\n    }\r\n\r\n    const [playerLocation, setPlayerLocationState] = useState<{ row: number; col: number }>({ row: 1, col: 1 })\r\n    const playerLocationRef = useRef<{ row: number; col: number }>({ row: 1, col: 1 })\r\n    const setPlayerLocation = (data: { row: number, col: number }) => {\r\n        playerLocationRef.current = data;\r\n        setPlayerLocationState(data);\r\n    }\r\n\r\n    const playerIcon = useRef<null | HTMLDivElement>(null);\r\n\r\n    useEffect(() => {\r\n        generateCells();\r\n\r\n        // create event listener to move player\r\n        window.addEventListener('keydown', handleKeyPress)\r\n    }, [])\r\n\r\n    const generateCells: () => void = () => {\r\n\r\n        let nums: cellPositionProperties[] = [];\r\n\r\n        // iterate over all cells in maze\r\n        for (let i = 1; i <= mazeWidth ** 2; i++) {\r\n            const cellObj: cellPositionProperties = {\r\n                isStart: i === 1,\r\n                isEnd: i === mazeWidth ** 2,\r\n                isBottomRow: i > mazeWidth ** 2 - mazeWidth,\r\n                isRightCol: i % mazeWidth === 0,\r\n                isLeftCol: i === 1 || (i - 1) % mazeWidth === 0,\r\n                isTopRow: i <= mazeWidth\r\n            }\r\n\r\n            // push object for cell to array of cells\r\n            nums.push(cellObj);\r\n        }\r\n\r\n        // createSimplePath(nums)\r\n        createRandomSimplePath(nums)\r\n\r\n        setMazeCells(nums)\r\n    }\r\n\r\n    // simple path to understand logic of game and test user movements\r\n    const createSimplePath = (cells: any[]) => {\r\n        cells.forEach((cell, index) => {\r\n            const cellNumb = index + 1;\r\n\r\n            if (cell.isTopRow) {\r\n                if (!cell.isRightCol) cell.canMoveRight = true;\r\n                if (!cell.isStart) cell.canMoveLeft = true;\r\n            }\r\n            if (cell.isRightCol) {\r\n                if (!cell.isEnd) cell.canMoveDown = true;\r\n                if (!cell.isTopRow) cell.canMoveUp = true;\r\n            }\r\n        })\r\n    }\r\n\r\n    const createRandomSimplePath = (cells: any[]) => {\r\n        const totalMoves = []\r\n        // push total number of right and down moves needed to reach end\r\n        for (let i = 0; i < mazeWidth - 1; i++) {\r\n            totalMoves.push('right');\r\n            totalMoves.push('down')\r\n        }\r\n\r\n        let currentCellIndex = 0;\r\n\r\n        while (totalMoves.length > 0) {\r\n            const currentCell = cells[currentCellIndex];\r\n\r\n            const randomIndex = Math.floor(Math.random() * totalMoves.length)\r\n\r\n            const move = totalMoves[randomIndex]\r\n            totalMoves.splice(randomIndex, 1);\r\n\r\n            switch (move) {\r\n                case 'right':\r\n                    currentCell.canMoveRight = true;\r\n                    currentCellIndex += 1;\r\n                    cells[currentCellIndex].canMoveLeft = true;\r\n                    break;\r\n                case 'down':\r\n                    currentCell.canMoveDown = true;\r\n                    currentCellIndex += mazeWidth;\r\n                    cells[currentCellIndex].canMoveUp = true;\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleKeyPress = (e: KeyboardEvent) => {\r\n        // return early if player icon has not been loaded in yet\r\n        if (!playerIcon) return\r\n\r\n        switch (e.key.toLowerCase()) {\r\n            case 'w':\r\n            case 'arrowup':\r\n                moveUp();\r\n                break;\r\n            case 'a':\r\n            case 'arrowleft':\r\n                moveLeft();\r\n                break;\r\n            case 's':\r\n            case 'arrowdown':\r\n                moveDown();\r\n                break;\r\n            case \"d\":\r\n            case \"arrowright\":\r\n                moveRight();\r\n                break;\r\n        }\r\n    }\r\n\r\n    const getCellIndexByLocation = (location: { row: number, col: number }) => {\r\n        const cellIndex = (location.row - 1) * mazeWidth + location.col - 1\r\n        return mazeCellsRef.current[cellIndex];\r\n    }\r\n\r\n    const moveUp = () => {\r\n        const cell = getCellIndexByLocation(playerLocationRef.current)\r\n\r\n        if (playerLocationRef.current.row === 1 || !cell.canMoveUp) return\r\n\r\n        setPlayerLocation({ ...playerLocationRef.current, row: playerLocationRef.current.row - 1 })\r\n    }\r\n\r\n    const moveRight = () => {\r\n        const cell = getCellIndexByLocation(playerLocationRef.current)\r\n\r\n        if (playerLocationRef.current.col >= mazeWidth || !cell.canMoveRight) return\r\n\r\n        setPlayerLocation({ ...playerLocationRef.current, col: playerLocationRef.current.col + 1 })\r\n    }\r\n\r\n    const moveLeft = () => {\r\n        const cell = getCellIndexByLocation(playerLocationRef.current)\r\n\r\n        if (playerLocationRef.current.col === 1 || !cell.canMoveLeft) return\r\n\r\n        setPlayerLocation({ ...playerLocationRef.current, col: playerLocationRef.current.col - 1 })\r\n    }\r\n\r\n    const moveDown = () => {\r\n        const cell = getCellIndexByLocation(playerLocationRef.current)\r\n\r\n        if (playerLocationRef.current.row >= mazeWidth || !cell.canMoveDown) return\r\n\r\n        setPlayerLocation({ ...playerLocationRef.current, row: playerLocationRef.current.row + 1 })\r\n    }\r\n\r\n    return (\r\n        <div className='maze-aspect-ratio-wrapper'>\r\n            <div className='maze-wrapper-outer'>\r\n                <div className='maze-wrapper-inner'>\r\n                    <div\r\n                        ref={playerIcon}\r\n                        className='player-wrapper'\r\n                        style={{ top: `${(playerLocation.row - 1) * (100 / mazeWidth)}%`, left: `${(playerLocation.col - 1) * (100 / mazeWidth)}%`, width: `${100 / mazeWidth}%`, height: `${100 / mazeWidth}%` }}>\r\n                        <div className='player'></div>\r\n                    </div>\r\n                    {mazeCells.map((cell, i) => {\r\n                        return (\r\n                            <div\r\n                                className={`maze-cell${cell.isStart ? ' start' : ''}${cell.isEnd ? ' end' : ''}${cell.isRightCol ? ' right-col' : ''}${cell.isBottomRow ? ' bottom-row' : ''}${cell.canMoveUp ? ' can-move-up' : ''}${cell.canMoveRight ? ' can-move-right' : ''}${cell.canMoveDown ? ' can-move-down' : ''}${cell.canMoveLeft ? ' can-move-left' : ''}`}\r\n                                style={{ width: `${100 / mazeWidth}%`, height: `${100 / mazeWidth}%` }}\r\n                                key={i}>\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { ReactElement } from 'react'\r\nimport Maze from '../../components/Maze'\r\nimport './index.css'\r\n\r\nexport default function Game(): ReactElement {\r\n    return (\r\n        <>\r\n            <Maze />\r\n        </>\r\n    )\r\n}\r\n","import React from 'react';\nimport './App.css';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport Game from './pages/Game';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router basename='/maze-game'>\n        <Switch>\n          <Route exact path='/'>\n            <Game />\n          </Route>\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}