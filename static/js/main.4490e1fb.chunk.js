(this["webpackJsonpmaze-game"]=this["webpackJsonpmaze-game"]||[]).push([[0],{28:function(e,t,c){},29:function(e,t,c){},30:function(e,t,c){},37:function(e,t,c){},38:function(e,t,c){},39:function(e,t,c){},40:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),r=c(20),o=c.n(r),s=(c(28),c(29),c(13)),i=c(2),u=c(10),h=c(7),l=c(23),d=c(14),j=(c(30),!1),f=null,b=function(e){var t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY};f=t},v=function(e){j=!0},w=c(1);function m(e){var t=e.setShowModal,c=Object(i.g)().difficulty,n=Object(a.useState)("easy"===c?10:"medium"===c?20:30),r=Object(u.a)(n,2),o=r[0],s=(r[1],Object(a.useState)([])),m=Object(u.a)(s,2),O=m[0],p=m[1],g=Object(a.useRef)([]),x=Object(a.useState)({row:1,col:1}),M=Object(u.a)(x,2),y=M[0],k=M[1],R=Object(a.useRef)({row:1,col:1}),L=function(e){R.current=e,k(e)},z=Object(a.useRef)(null);Object(a.useEffect)((function(){N(),window.addEventListener("keydown",S),document.addEventListener("touchstart",b),document.addEventListener("touchmove",v),document.addEventListener("touchend",(function(e){var t=function(e){var t=e.changedTouches[0].pageX,c=e.changedTouches[0].pageY;if(!j||!f)return!1;var a=(c-f.y)/(f.x-t);return j=!1,a<=-1||a>=1?c<f.y?"up":"down":t>f.x?"right":"left"}(e);if(t)switch(t){case"up":B();break;case"down":U();break;case"right":D();break;case"left":F()}}))}),[]),Object(a.useEffect)((function(){y.col===o&&y.row===o&&t(!0)}),[y]);var N=function(){for(var e,t=[],c=1;c<=Math.pow(o,2);c++){var a={isStart:1===c,isEnd:c===Math.pow(o,2),isBottomRow:c>Math.pow(o,2)-o,isRightCol:c%o===0,isLeftCol:1===c||(c-1)%o===0,isTopRow:c<=o};t.push(a)}E(t),e=t,g.current=e,p(e)},E=function(e){for(var t=["up","down","left","right"],c={right:o-1,down:o-1,left:0,up:0},a=[],n=0,r=Math.pow(o,2)-2,s=!1,i=0;i<r;i++){var u,h=[],l=e[n],j=Object(d.a)(t);try{for(j.s();!(u=j.n()).done;){var f=u.value,b=null;if(l.isEnd){s=!0;break}switch(f){case"up":l.isTopRow||(b=e[n-o]);break;case"right":l.isRightCol||(b=e[n+1]);break;case"down":l.isBottomRow||(b=e[n+o]);break;case"left":l.isLeftCol||(b=e[n-1])}b&&!b.hasBeenVisited&&h.push(f)}}catch(p){j.e(p)}finally{j.f()}var v=void 0;if(s)v=h[Math.floor(Math.random()*h.length)];else v=C(c,h);if(l.hasBeenVisited=!0,0!==h.length){switch(v){case"up":l.canMoveUp=!0,e[n-=o].canMoveDown=!0,c.up--,c.down++;break;case"right":l.canMoveRight=!0,e[n+=1].canMoveLeft=!0,c.right--,c.left++;break;case"down":l.canMoveDown=!0,e[n+=o].canMoveUp=!0,c.down--,c.up++;break;case"left":l.canMoveLeft=!0,e[n-=1].canMoveRight=!0,c.left--,c.right++}a.push(n)}else n=a.shift(),r++}if(!s){var w=Math.pow(o,2)-1,m=e[w],O=e[w-o];m.canMoveUp=!0,O.canMoveDown=!0}},C=function(e,t){var c,a=[],n=Object(d.a)(t);try{for(n.s();!(c=n.n()).done;){var r=c.value,o=0===e[r]?1:e;a.push.apply(a,Object(l.a)(new Array(o).fill(r)))}}catch(s){n.e(s)}finally{n.f()}return a[Math.floor(Math.random()*a.length)]},S=function(e){if(z)switch(e.key.toLowerCase()){case"w":case"arrowup":B();break;case"a":case"arrowleft":F();break;case"s":case"arrowdown":U();break;case"d":case"arrowright":D()}},T=function(e){var t=(e.row-1)*o+e.col-1;return g.current[t]},B=function(){var e=T(R.current);1!==R.current.row&&e.canMoveUp&&L(Object(h.a)(Object(h.a)({},R.current),{},{row:R.current.row-1}))},D=function(){var e=T(R.current);R.current.col>=o||!e.canMoveRight||L(Object(h.a)(Object(h.a)({},R.current),{},{col:R.current.col+1}))},F=function(){var e=T(R.current);1!==R.current.col&&e.canMoveLeft&&L(Object(h.a)(Object(h.a)({},R.current),{},{col:R.current.col-1}))},U=function(){var e=T(R.current);R.current.row>=o||!e.canMoveDown||L(Object(h.a)(Object(h.a)({},R.current),{},{row:R.current.row+1}))};return Object(w.jsx)("div",{className:"maze-aspect-ratio-wrapper",children:Object(w.jsx)("div",{className:"maze-wrapper-outer",children:Object(w.jsxs)("div",{className:"maze-wrapper-inner",children:[Object(w.jsx)("div",{ref:z,className:"player-wrapper",style:{top:"".concat((y.row-1)*(100/o),"%"),left:"".concat((y.col-1)*(100/o),"%"),width:"".concat(100/o,"%"),height:"".concat(100/o,"%")},children:Object(w.jsx)("div",{className:"player"})}),O.map((function(e,t){return Object(w.jsx)("div",{className:"maze-cell".concat(e.isStart?" start":"").concat(e.isEnd?" end":"").concat(e.isRightCol?" right-col":"").concat(e.isBottomRow?" bottom-row":"").concat(e.canMoveUp?" can-move-up":"").concat(e.canMoveRight?" can-move-right":"").concat(e.canMoveDown?" can-move-down":"").concat(e.canMoveLeft?" can-move-left":""),style:{width:"".concat(100/o,"%"),height:"".concat(100/o,"%")}},t)}))]})})})}c(37);function O(e){var t=e.show,c=Object(i.f)();return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{className:"maze-modal".concat(t?" show":""),children:[Object(w.jsx)("h1",{children:"You Win!"}),Object(w.jsxs)("div",{className:"buttons",children:[Object(w.jsx)("button",{onClick:function(){return c.go(0)},children:"Play Again"}),Object(w.jsx)(s.b,{to:"/",children:"Home"})]})]}),Object(w.jsx)("div",{className:"modal-page-overlay".concat(t?" show":"")})]})}c(38);function p(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),c=t[0],n=t[1];return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(m,{setShowModal:n}),Object(w.jsx)(O,{show:c})]})}var g=c(22);c(39);function x(e){return Object(g.a)(e),Object(w.jsxs)("div",{className:"home-page",children:[Object(w.jsx)("h1",{children:"The Maze Game"}),Object(w.jsxs)("div",{className:"buttons",children:[Object(w.jsx)("a",{href:"/maze-game/game/easy",children:"Easy"}),Object(w.jsx)("a",{href:"/maze-game/game/medium",children:"Medium"}),Object(w.jsx)("a",{href:"/maze-game/game/hard",children:"Hard"})]})]})}var M=function(){return Object(w.jsx)("div",{className:"App",children:Object(w.jsx)(s.a,{basename:"/maze-game",children:Object(w.jsxs)(i.c,{children:[Object(w.jsx)(i.a,{exact:!0,path:"/",children:Object(w.jsx)(x,{})}),Object(w.jsx)(i.a,{exact:!0,path:"/game/:difficulty",children:Object(w.jsx)(p,{})})]})})})},y=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,41)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,o=t.getTTFB;c(e),a(e),n(e),r(e),o(e)}))};o.a.render(Object(w.jsx)(n.a.StrictMode,{children:Object(w.jsx)(M,{})}),document.getElementById("root")),y()}},[[40,1,2]]]);
//# sourceMappingURL=main.4490e1fb.chunk.js.map